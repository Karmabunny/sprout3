{# --------------------------------------
    Embedded Video Helpers
--------------------------------------- #}

{% macro getYouTubeLink(link) %}
    {%- if link matches '{(youtube)|(youtu.be)}' -%}
        https://www.youtube.com/embed/{{ link | replace('/^(.*)(.{11})$/', '$2') }}
    {%- else -%}
        This link is not a YouTube link
    {%- endif -%}
{% endmacro %}

{% macro getYouTubeId(link) %}
    {%- if link matches '{(youtube)|(youtu.be)}' -%}
        {{ link | replace('/^(.*)(.{11})$/', '$2') }}
    {%- else -%}
        This link is not a YouTube link
    {%- endif -%}
{% endmacro %}


{# --------------------------------------
   Phone Number
--------------------------------------- #}

{% macro phoneFormat(number) %}
    {%- if number matches '{(tel)}' -%}
        {% set number = number | replace('/\D', '') %}
        {% set number = number | replace('tel:', '') %}
        {% set number = number | replace('-', ' ') %}
        {% set number = number | replace('/^\w*([0-3,5-9]{2})/', '($1) ') %}
        {{ number }}
    {%- else -%}
        {{ number }}<small>Invalid</small>
    {%- endif -%}
{% endmacro %}


{# --------------------------------------
Start to now date comparision eg. copyright years
--------------------------------------- #}

{% macro yearTillCurrent(number) %}
    {%- if number == now|date('Y') -%}
        {{ number }}
    {%- else -%}
        {{ number }} - {{ now|date('Y') }}
    {%- endif -%}
{% endmacro %}



