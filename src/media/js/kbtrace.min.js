!function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e){var t={exports:{}};return e(t,t.exports),t.exports}var t=e((function(e,t){e.exports=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=["args"],s=["evalOrigin"],c=r.concat(i,o,a,s);function u(e){if(e)for(var n=0;n<c.length;n++)void 0!==e[c[n]]&&this["set"+t(c[n])](e[c[n]])}u.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof u)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new u(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},u.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),i=e.substring(t+1,n).split(","),o=e.substring(n+1);if(0===o.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),s=a[1],c=a[2],l=a[3];return new u({functionName:r,args:i||void 0,fileName:s,lineNumber:c||void 0,columnNumber:l||void 0})};for(var l=0;l<r.length;l++)u.prototype["get"+t(r[l])]=n(r[l]),u.prototype["set"+t(r[l])]=function(e){return function(t){this[e]=Boolean(t)}}(r[l]);for(var f=0;f<i.length;f++)u.prototype["get"+t(i[f])]=n(i[f]),u.prototype["set"+t(i[f])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[f]);for(var d=0;d<o.length;d++)u.prototype["get"+t(o[d])]=n(o[d]),u.prototype["set"+t(o[d])]=function(e){return function(t){this[e]=String(t)}}(o[d]);return u}()})),n=e((function(e,n){var r,i,o,a;e.exports=(r=t,i=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,a=/^(eval@)?(\[native code])?$/,{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(o))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(o)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=t.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(t=n?t.replace(n[0],""):t).split(/\s+/).slice(1),o=this.extractLocation(n?n[1]:i.pop()),a=i.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new r({functionName:a,fileName:s,lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(a)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new r({functionName:e});var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=e.match(t),i=n&&n[1]?n[1]:void 0,o=this.extractLocation(e.replace(t,""));return new r({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),i=[],o=2,a=n.length;o<a;o+=2){var s=t.exec(n[o]);s&&i.push(new r({fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),i=[],o=0,a=n.length;o<a;o+=2){var s=t.exec(n[o]);s&&i.push(new r({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(i)&&!e.match(/^Error created at/)}),this).map((function(e){var t,n=e.split("@"),i=this.extractLocation(n.pop()),o=n.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(t=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===t||"[arguments not available]"===t?void 0:t.split(",");return new r({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)}})}));let r=!1,i=null;function o(){if(i&&i.inject){const e=document.createElement("script"),t="!setTimeout(function(){window.addEventListener('error',window.kbtrace.handler);window.addEventListener('unhandledrejection',window.kbtrace.handler);});";e.innerHTML=t,document.head.append(e)}else window.addEventListener("error",c),window.addEventListener("unhandledrejection",c);return window.kbtrace}function a(e){return i=null,e.url||(e.url="https://trace.bunnysites.com"),void 0===e.inject&&/Version\/[.0-9]+.+Safari\/[.0-9]/i.test(navigator.userAgent)&&(e.inject=!0),e.path||(e.path="/api/js/log"),e.url=e.url.replace(/\/$/,""),e.path.match("/^//")||(e.path="/"+e.path),e.token&&e.uid&&(i=e),window.kbtrace}function s(e,t,o){var a;if(!i)return void console.warn("kbtrace not configured");const s=function(){let e=window.location.protocol+"//";return e+=window.location.host,e+=window.location.pathname,e+=window.location.search,e+=window.location.hash,e}(),c={timestamp:+new Date/1e3,category:o||s};if(e instanceof Error)try{c.error=function(e){return{name:e.name,message:e.message,stack:n.parse(e)}}(e),c.message=e.message}catch(t){c.message=JSON.stringify(e)}else c.message=JSON.stringify(e);if(c.meta={user_agent:navigator.userAgent,page_title:document.title,page_url:s},t&&Object.assign(c.meta,t),null===(a=window.performance)||void 0===a?void 0:a.memory){const{totalJSHeapSize:e,usedJSHeapSize:t}=window.performance.memory;c.meta.memory={total:e,total_mb:e/1024/1024,used:t,used_mb:t/1024/1024}}return fetch(i.url+i.path+"?uid="+i.uid,{method:"POST",credentials:"include",headers:{"content-type":"application/json",authorization:"Bearer "+i.token},body:JSON.stringify(c)}).then((e=>e.json())).then((e=>(r||(r=!0,console.log("Don't fear console traveler, we're not harvesting your data.\nUse this code if you want to ask questions.\nReference: "+e.reference)),e.reference))).catch((e=>{console.error(e)}))}function c(e){let t,n;e instanceof ErrorEvent?(t=e.error,n={async:!1,message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno}):e instanceof PromiseRejectionEvent&&(t=e.reason,n={async:!0}),t&&(t instanceof Error?s(t):s(JSON.stringify(t),n))}"undefined"!=typeof window&&(Object.defineProperty(window,"kbtrace",{value:Object.freeze({config:a,register:o,unregister:function(){return window.removeEventListener("error",c),window.removeEventListener("unhandledrejection",c),window.kbtrace},handler:c,report:s})}),function(){const e=document.querySelector("script[data-uid][data-token]");if(e instanceof HTMLScriptElement&&document.currentScript===e){const t=e.getAttribute("data-uid"),n=e.getAttribute("data-token"),r=e.getAttribute("data-path")||void 0;if(t&&n&&e.src){const i=new URL(e.src);a({uid:t,token:n,url:i.protocol+"//"+i.host,path:r}),o()}}}())}();
